<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocFix Learning Roadmap</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a2e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 40px 20px;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #60a5fa, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 40px;
        }
        .section {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        h2 {
            color: #60a5fa;
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .mermaid {
            background: rgba(255,255,255,0.02);
            border-radius: 12px;
            padding: 20px;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        th {
            background: rgba(96, 165, 250, 0.2);
            color: #60a5fa;
            font-weight: 600;
        }
        tr:hover { background: rgba(255,255,255,0.03); }
        code {
            background: rgba(167, 139, 250, 0.2);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
            color: #a78bfa;
        }
        .phase-badge {
            display: inline-block;
            background: linear-gradient(135deg, #60a5fa, #a78bfa);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            margin-right: 10px;
        }
        .file-tree {
            background: #1e1e1e;
            border-radius: 12px;
            padding: 20px 30px;
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
            line-height: 1.8;
            overflow-x: auto;
        }
        .file-tree .folder { color: #60a5fa; }
        .file-tree .file { color: #e0e0e0; }
        .file-tree .comment { color: #6a9955; }
        .checklist {
            list-style: none;
            padding: 0;
        }
        .checklist li {
            padding: 12px 16px;
            background: rgba(255,255,255,0.03);
            margin-bottom: 8px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .checklist input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: #60a5fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“š DocFix Learning Roadmap</h1>
        <p class="subtitle">Complete guide showing how all files connect and the recommended learning path</p>

        <!-- High Level Architecture -->
        <div class="section">
            <h2>ğŸ—ºï¸ High-Level Architecture</h2>
            <div class="mermaid">
graph TB
    subgraph Entry["ğŸŒ Entry Point"]
        A[layout.js] --> B[page.js]
    end
    
    subgraph Auth["ğŸ” Auth Layer"]
        C[middleware.js]
        D[AuthContext.js]
        E[supabase.js]
    end
    
    subgraph Pages["ğŸ“„ Pages"]
        F["/ Home"]
        G["/auth"]
        H["/dashboard"]
        I["/compress-pdf"]
        J["/summarise"]
        K["/upgrade"]
    end
    
    subgraph Components["ğŸ§© Components"]
        L[Navbar.js]
        M[Hero.js]
        N[ToolsSection.js]
        O[AuthForm.js]
        P[Sidebar.js]
    end
    
    subgraph API["âš¡ API Routes"]
        R[api/compress-pdf]
        S[api/summarise-pdf]
        T[api/checkout]
        U[api/webhook]
    end
    
    A --> C
    D --> E
    C --> E
            </div>
        </div>

        <!-- Learning Order -->
        <div class="section">
            <h2>ğŸ“– Recommended Learning Order</h2>
            <div class="mermaid">
graph LR
    subgraph P1["Phase 1: Foundation"]
        A1["1ï¸âƒ£ supabase.js"] --> A2["2ï¸âƒ£ AuthContext.js"]
    end
    
    subgraph P2["Phase 2: Core"]
        B1["3ï¸âƒ£ layout.js"] --> B2["4ï¸âƒ£ middleware.js"]
    end
    
    subgraph P3["Phase 3: UI"]
        C1["5ï¸âƒ£ page.js"] --> C2["6ï¸âƒ£ Components"]
    end
    
    subgraph P4["Phase 4: Features"]
        D1["7ï¸âƒ£ API Routes"] --> D2["8ï¸âƒ£ Feature Pages"]
    end
    
    A2 --> B1
    B2 --> C1
    C2 --> D1
            </div>
        </div>

        <!-- Phase 1 -->
        <div class="section">
            <h2><span class="phase-badge">Phase 1</span> Database & Auth Foundation</h2>
            <table>
                <tr><th>Order</th><th>File</th><th>Purpose</th><th>Key Concepts</th></tr>
                <tr><td>1ï¸âƒ£</td><td><code>lib/supabase.js</code></td><td>Database client</td><td>createClient, cookies, PKCE</td></tr>
                <tr><td>2ï¸âƒ£</td><td><code>contexts/AuthContext.js</code></td><td>Global auth state</td><td>React Context, useAuth hook</td></tr>
            </table>
            <div class="mermaid">
flowchart LR
    A[supabase.js] -->|"exports client"| B[AuthContext.js]
    B -->|"provides useAuth"| C[Any Component]
            </div>
        </div>

        <!-- Phase 2 -->
        <div class="section">
            <h2><span class="phase-badge">Phase 2</span> App Core Structure</h2>
            <table>
                <tr><th>Order</th><th>File</th><th>Purpose</th></tr>
                <tr><td>3ï¸âƒ£</td><td><code>app/layout.js</code></td><td>Root wrapper with AuthProvider</td></tr>
                <tr><td>4ï¸âƒ£</td><td><code>middleware.js</code></td><td>Route protection & redirects</td></tr>
            </table>
            <div class="mermaid">
flowchart TB
    A["ğŸ”’ middleware.js"] -->|"Intercepts ALL requests"| B{"User logged in?"}
    B -->|"Yes + /auth"| C["Redirect â†’ /dashboard"]
    B -->|"No + /dashboard"| D["Redirect â†’ /auth"]
    B -->|"Otherwise"| E["Continue to Page"]
            </div>
        </div>

        <!-- Phase 3 -->
        <div class="section">
            <h2><span class="phase-badge">Phase 3</span> Pages & Components</h2>
            <table>
                <tr><th>Order</th><th>File</th><th>Used In</th></tr>
                <tr><td>5ï¸âƒ£</td><td><code>app/page.js</code></td><td>Home /</td></tr>
                <tr><td>6ï¸âƒ£</td><td><code>Navbar.js</code></td><td>All pages</td></tr>
                <tr><td>7ï¸âƒ£</td><td><code>Hero.js</code></td><td>Home</td></tr>
                <tr><td>8ï¸âƒ£</td><td><code>ToolsSection.js</code></td><td>Home</td></tr>
                <tr><td>9ï¸âƒ£</td><td><code>AuthForm.js</code></td><td>Auth page</td></tr>
                <tr><td>ğŸ”Ÿ</td><td><code>Sidebar.js</code></td><td>Dashboard</td></tr>
            </table>
            <div class="mermaid">
flowchart TB
    subgraph Home["Home Page /"]
        A[page.js] --> B[Navbar]
        A --> C[Hero]
        A --> D[ToolsSection]
    end
    
    subgraph AuthPage["Auth Page /auth"]
        E["auth/page.js"] --> F[AuthForm]
    end
    
    subgraph Dashboard["Dashboard /dashboard"]
        H["dashboard/page.js"] --> I[Sidebar]
        H --> J[DashboardStats]
    end
            </div>
        </div>

        <!-- Phase 4 -->
        <div class="section">
            <h2><span class="phase-badge">Phase 4</span> API & Features</h2>
            <table>
                <tr><th>API Route</th><th>Purpose</th><th>Connected Page</th></tr>
                <tr><td><code>api/compress-pdf</code></td><td>PDF compression</td><td>/compress-pdf</td></tr>
                <tr><td><code>api/summarise-pdf</code></td><td>AI summarization</td><td>/summarise</td></tr>
                <tr><td><code>api/checkout</code></td><td>Stripe payment</td><td>/upgrade</td></tr>
                <tr><td><code>api/webhook</code></td><td>Payment confirmation</td><td>Stripe callback</td></tr>
            </table>
            <div class="mermaid">
flowchart LR
    subgraph Feature["Feature Flow"]
        A["ğŸ“„ Feature Page"] -->|"POST request"| B["âš¡ API Route"]
        B -->|"Process"| C["External Service"]
        C -->|"Response"| A
    end
            </div>
        </div>

        <!-- Complete Flow -->
        <div class="section">
            <h2>ğŸ”— Complete Request Flow</h2>
            <div class="mermaid">
flowchart TB
    A["ğŸ‘¤ Browser Request"] --> B["middleware.js"]
    B --> C{"Protected Route?"}
    C -->|Yes| D{"Has Session?"}
    D -->|No| E["Redirect â†’ /auth"]
    D -->|Yes| F["Continue"]
    C -->|No| F
    F --> G["layout.js"]
    G --> H["AuthProvider"]
    H --> I["Page Component"]
    I --> J["Child Components"]
    J -->|"API calls"| K["API Routes"]
    K --> L["External Services"]
            </div>
        </div>

        <!-- Directory Structure -->
        <div class="section">
            <h2>ğŸ“ Directory Structure</h2>
            <div class="file-tree">
<span class="folder">DocFix/</span>
â”œâ”€â”€ <span class="folder">app/</span>
â”‚   â”œâ”€â”€ <span class="file">layout.js</span>          <span class="comment">â† START HERE</span>
â”‚   â”œâ”€â”€ <span class="file">page.js</span>            <span class="comment">â† Home page</span>
â”‚   â”œâ”€â”€ <span class="file">globals.css</span>        <span class="comment">â† Global styles</span>
â”‚   â”œâ”€â”€ <span class="folder">auth/</span>page.js       <span class="comment">â† Login/Signup</span>
â”‚   â”œâ”€â”€ <span class="folder">dashboard/</span>page.js  <span class="comment">â† User dashboard</span>
â”‚   â”œâ”€â”€ <span class="folder">compress-pdf/</span>      <span class="comment">â† PDF tool</span>
â”‚   â”œâ”€â”€ <span class="folder">summarise/</span>         <span class="comment">â† AI summary</span>
â”‚   â”œâ”€â”€ <span class="folder">upgrade/</span>           <span class="comment">â† Premium upgrade</span>
â”‚   â””â”€â”€ <span class="folder">api/</span>               <span class="comment">â† Backend endpoints</span>
â”‚
â”œâ”€â”€ <span class="folder">components/</span>            <span class="comment">â† Reusable UI</span>
â”œâ”€â”€ <span class="folder">contexts/</span>AuthContext.js <span class="comment">â† Auth state</span>
â”œâ”€â”€ <span class="folder">lib/</span>supabase.js        <span class="comment">â† DB client</span>
â””â”€â”€ <span class="file">middleware.js</span>          <span class="comment">â† Route protection</span>
            </div>
        </div>

        <!-- Checklist -->
        <div class="section">
            <h2>âœ… Learning Checklist</h2>
            <ul class="checklist">
                <li><input type="checkbox"> <strong>Phase 1:</strong> <code>supabase.js</code> â†’ <code>AuthContext.js</code></li>
                <li><input type="checkbox"> <strong>Phase 2:</strong> <code>layout.js</code> â†’ <code>middleware.js</code></li>
                <li><input type="checkbox"> <strong>Phase 3:</strong> <code>page.js</code> â†’ Components</li>
                <li><input type="checkbox"> <strong>Phase 4:</strong> API routes â†’ Feature pages</li>
            </ul>
        </div>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true, 
            theme: 'dark',
            themeVariables: {
                primaryColor: '#60a5fa',
                primaryTextColor: '#fff',
                primaryBorderColor: '#60a5fa',
                lineColor: '#a78bfa',
                secondaryColor: '#a78bfa',
                tertiaryColor: '#1a1a2e'
            }
        });
    </script>
</body>
</html>
